# دليل البيانات الوهمية الواقعية

## نظرة عامة

تم إنشاء سكريبت شامل لإضافة بيانات وهمية واقعية كاملة للنظام لمحاكاة البرنامج بشكل واقعي. البيانات تغطي جميع أقسام النظام وتشمل:

- ✅ مقاطع الطرق الحقيقية في المدن السعودية
- ✅ بيانات المرور مع تغييرات زمنية واقعية (24 ساعة)
- ✅ التنبؤات المستقبلية
- ✅ التنبيهات المتنوعة
- ✅ نقاط الازدحام (Bottlenecks)
- ✅ بيانات الطقس
- ✅ الإحصائيات
- ✅ القرارات المرورية
- ✅ توصيات الإشارات
- ✅ مؤشرات الأداء (KPIs)

## البيانات المولدة

### 1. مقاطع الطرق (Road Segments)
- **الرياض**: 8 مقاطع طريق رئيسية
  - طريق الملك فهد (شمال/جنوب)
  - الدائري الشرقي (شرق/غرب)
  - طريق الملك عبدالعزيز
  - طريق العليا
  - طريق الخليج
  - طريق الأمير محمد بن سلمان

- **جدة**: 4 مقاطع طريق رئيسية
  - طريق الملك فهد
  - الكورنيش الشمالي
  - طريق المدينة
  - طريق الحرمين

- **الدمام**: 2 مقطع طريق رئيسي
  - الكورنيش
  - طريق الملك فهد

### 2. بيانات المرور (Traffic Data)
- بيانات للـ 24 ساعة الماضية
- تحديث كل 15 دقيقة
- مؤشرات ازدحام واقعية حسب الوقت:
  - **ساعات الذروة** (7-9 صباحاً، 5-7 مساءً): ازدحام شديد (60-95)
  - **ساعات متوسطة** (10-12، 2-4): ازدحام متوسط (30-60)
  - **ساعات هادئة** (ليل وصباح مبكر): ازدحام خفيف (10-40)

### 3. التنبؤات (Predictions)
- تنبؤات لـ 5، 10، 30، 60 دقيقة قادمة
- مستوى ثقة عالي (70-95%)
- عوامل تنبؤ واقعية

### 4. التنبيهات (Alerts)
- أنواع متنوعة: ازدحام، حادث، فعالية، طقس، صيانة
- مستويات خطورة: منخفض، متوسط، عالي، حرج
- مسارات بديلة مقترحة
- تنبيهات نشطة مع تواريخ انتهاء

### 5. نقاط الازدحام (Bottlenecks)
- نقاط ازدحام نشطة
- مستويات خطورة متنوعة
- نسبة هبوط السرعة
- امتداد الاختناق الخلفي

### 6. بيانات الطقس (Weather Data)
- بيانات طقس للمدن الرئيسية
- حالات متنوعة: صافي، غائم، مطر، ضباب، غبار
- توقعات ساعية ويومية

### 7. الإحصائيات (Usage Stats)
- إحصائيات للـ 30 يوم الماضية
- عدد المستخدمين النشطين
- عدد التنبيهات النشطة
- عدد المسارات المقترحة
- متوسط وقت الاستجابة

### 8. القرارات المرورية (Traffic Decisions)
- أنواع: تحويل، تعديل إشارات، تدخل
- حالات: معلق، معتمد، منفذ، مرفوض
- تأثير متوقع على التأخير

### 9. توصيات الإشارات (Signal Recommendations)
- توصيات للإشارات المرورية
- أوقات خضراء ودورات
- أولويات متنوعة

### 10. مؤشرات الأداء (KPIs)
- دقة التنبؤ
- وقت الاستجابة
- فعالية القرارات
- الامتثال للخصوصية
- وقت التشغيل

## كيفية الاستخدام

### الطريقة 1: استخدام السكريبت مباشرة

```bash
npm run db:seed
```

### الطريقة 2: استخدام API Route

```bash
curl -X POST http://localhost:3000/api/seed-realistic
```

أو من المتصفح:
```
POST http://localhost:3000/api/seed-realistic
```

### الطريقة 3: استخدام tsx مباشرة

```bash
npx tsx scripts/generate-realistic-data.ts
```

## المتطلبات

1. **قاعدة البيانات**: يجب أن تكون قاعدة البيانات جاهزة ومتصلة
2. **Prisma**: يجب تشغيل `npm run db:generate` و `npm run db:push` أولاً
3. **tsx**: متوفر في devDependencies

## ملاحظات مهمة

⚠️ **تحذير**: هذا السكريبت سيضيف بيانات كثيرة إلى قاعدة البيانات. تأكد من:
- عمل backup للبيانات الحالية إذا كانت موجودة
- أن قاعدة البيانات فارغة أو أنك تريد إضافة بيانات جديدة

## حجم البيانات المتوقع

بعد تشغيل السكريبت، سيتم إنشاء:
- **~14 مقطع طريق** في 3 مدن
- **~1,344 سجل بيانات مرور** (14 مقطع × 96 نقطة زمنية)
- **~56 تنبؤ** (14 مقطع × 4 تنبؤات)
- **~4 تنبيهات نشطة**
- **~3 نقاط ازدحام**
- **3 سجلات بيانات طقس**
- **30 سجل إحصائيات**
- **~2 قرار مروري**
- **~3 توصيات إشارات**
- **35 مؤشر أداء**

**المجموع**: أكثر من **1,500 سجل** من البيانات الواقعية

## تحديث البيانات

لإضافة بيانات جديدة أو تحديث البيانات الموجودة، يمكنك:
1. تشغيل السكريبت مرة أخرى (سيضيف بيانات جديدة)
2. حذف البيانات القديمة أولاً ثم تشغيل السكريبت

## البيانات الواقعية

البيانات المولدة واقعية وتشمل:
- ✅ إحداثيات حقيقية للطرق في السعودية
- ✅ أنماط ازدحام واقعية حسب الوقت
- ✅ سرعات واقعية بناءً على مستوى الازدحام
- ✅ تنبيهات متنوعة وواقعية
- ✅ بيانات طقس واقعية
- ✅ تنبؤات بثقة عالية

## الدعم

إذا واجهت أي مشاكل:
1. تحقق من اتصال قاعدة البيانات
2. تأكد من تشغيل `npm run db:generate` أولاً
3. تحقق من سجلات الأخطاء في Console

## المراجع

- [Prisma Documentation](https://www.prisma.io/docs)
- [TypeScript Documentation](https://www.typescriptlang.org/docs)

