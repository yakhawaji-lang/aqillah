# ููุฎุต ูุธุงู ุงูุชุญุฐูุฑุงุช ุงูุดุงูู ููุทูุณ

## โ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุฅูุดุงุก ูุธุงู ุดุงูู ููุชุญุฐูุฑุงุช ุงูุฌููุฉ ูุชุถูู **12 ููุน ุชุญุฐูุฑ ุฃุณุงุณู** ู **2 ุชุญุฐูุฑ ุฐูู ูุฑูุจ**ุ ุฌููุนูุง ูุจููุฉ ุนูู ุจูุงูุงุช ูุงูุนูุฉ ููุท.

---

## ๐ ุฃููุงุน ุงูุชุญุฐูุฑุงุช ุงููุถุงูุฉ

### ๐ง ุงูุฃูุทุงุฑ ูุงูุทูุณ ุงูุณูุฆ

#### 1๏ธโฃ ุชุญุฐูุฑ ูุทูู ูุทุฑ ููู
- **ุงูุดุฑุท:** `rain > 5 mm`
- **ุงูุฑุณุงูุฉ:** โ๏ธ ุฃูุทุงุฑ ุบุฒูุฑุฉ โ ุงูููุงุฏุฉ ุจุญุฐุฑ
- **ุงูุฃููููุฉ:** ๐ง
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:** 
  - Critical: > 50 mm
  - High: > 25 mm
  - Medium: > 15 mm
  - Low: > 5 mm

#### 2๏ธโฃ ุชุญุฐูุฑ ุทุฑู ุฒููุฉ
- **ุงูุดุฑุท:** `temp < 4ยฐC AND rain > 0`
- **ุงูุฑุณุงูุฉ:** โ๏ธ ุงุญุชูุงู ุงูุฒูุงู ุงูุทุฑูู โ ุงูุชุจู
- **ุงูุฃููููุฉ:** ๐ฃ๏ธ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: temp < 0ยฐC
  - High: temp < 2ยฐC
  - Medium: temp < 4ยฐC

#### 3๏ธโฃ ุชุญุฐูุฑ ููุฌุฉ ุญุฑ
- **ุงูุดุฑุท:** `temp > 45ยฐC`
- **ุงูุฑุณุงูุฉ:** โ๏ธ ุญุฑุงุฑุฉ ูุฑุชูุนุฉ โ ุงูุชุจู ูุณุฎููุฉ ุงููุญุฑู
- **ุงูุฃููููุฉ:** โ๏ธ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: > 50ยฐC
  - High: > 45ยฐC

#### 4๏ธโฃ ุชุญุฐูุฑ ููุฌุฉ ุจุฑุฏ
- **ุงูุดุฑุท:** `temp < 0ยฐC`
- **ุงูุฑุณุงูุฉ:** โ๏ธ ุชุฌูุฏ ูุญุชูู โ ููุงุฏุฉ ุญุฐุฑุฉ
- **ุงูุฃููููุฉ:** โ๏ธ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: < -5ยฐC
  - High: < -2ยฐC
  - Medium: < 0ยฐC

---

### ๐ฌ ุงูุฑูุงุญ ูุงูุนูุงุตู

#### 5๏ธโฃ ุชุญุฐูุฑ ุฑูุงุญ ูููุฉ
- **ุงูุดุฑุท:** `wind_speed > 12 m/s` (43.2 km/h)
- **ุงูุฑุณุงูุฉ:** ๐ช ุฑูุงุญ ูููุฉ โ ุชุญูู ุจุงููููุฏ
- **ุงูุฃููููุฉ:** ๐ช
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: > 20 m/s
  - High: > 17 m/s
  - Medium: > 15 m/s
  - Low: > 12 m/s

#### 6๏ธโฃ ุชุญุฐูุฑ ุนุงุตูุฉ ุฑุนุฏูุฉ
- **ุงูุดุฑุท:** `weather = Thunderstorm`
- **ุงูุฑุณุงูุฉ:** โ ุนุงุตูุฉ ุฑุนุฏูุฉ โ ุชูุฎ ุงูุญูุทุฉ
- **ุงูุฃููููุฉ:** โ
- **ูุณุชูู ุงูุฎุทูุฑุฉ:** High

---

### ๐ซ ุงูุฑุคูุฉ ูุงูุถุจุงุจ

#### 7๏ธโฃ ุชุญุฐูุฑ ุชุฏูู ุงูุฑุคูุฉ
- **ุงูุดุฑุท:** `visibility < 1000 m`
- **ุงูุฑุณุงูุฉ:** ๐ซ ุฑุคูุฉ ุถุนููุฉ โ ุดุบูู ุงูุฃููุงุฑ
- **ุงูุฃููููุฉ:** ๐ซ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: < 100 m
  - High: < 200 m
  - Medium: < 500 m
  - Low: < 1000 m

#### 8๏ธโฃ ุชุญุฐูุฑ ุบุจุงุฑ / ุนูุงุตู ุชุฑุงุจูุฉ
- **ุงูุดุฑุท:** `weather = Dust OR Sand`
- **ุงูุฑุณุงูุฉ:** ๐ช ุนุงุตูุฉ ุชุฑุงุจูุฉ โ ุงูุฏุฃ ุจุงูุณุฑุนุฉ
- **ุงูุฃููููุฉ:** ๐ช
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: ุฅุฐุง ูุงูุช ุนุงุตูุฉ (storm)
  - High: ุบุจุงุฑ/ุฑูู ุนุงุฏู

---

### โ๏ธ ุงูุซููุฌ ูุงูุจุฑุฏ

#### 9๏ธโฃ ุชุญุฐูุฑ ุชุณุงูุท ุงูุซูุฌ
- **ุงูุดุฑุท:** `weather = Snow`
- **ุงูุฑุณุงูุฉ:** โ๏ธ ุซููุฌ โ ุฎุทุฑ ุงูุฒูุงู
- **ุงูุฃููููุฉ:** โ๏ธ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: precipitation > 5 mm
  - High: ุฃู ุซูุฌ

#### ๐ ุชุญุฐูุฑ ุตููุน ูููู
- **ุงูุดุฑุท:** `temp_min < -1ยฐC`
- **ุงูุฑุณุงูุฉ:** ๐ง ุงุญุชูุงู ุฌููุฏ
- **ุงูุฃููููุฉ:** ๐ง
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: < -5ยฐC
  - High: < -3ยฐC
  - Medium: < -1ยฐC

---

### ๐ก ุงูุฑุทูุจุฉ ูุงูุถุบุท

#### 1๏ธโฃ1๏ธโฃ ุชุญุฐูุฑ ุฑุทูุจุฉ ุนุงููุฉ ุฌุฏุงู
- **ุงูุดุฑุท:** `humidity > 90%`
- **ุงูุฑุณุงูุฉ:** ๐ฆ ุฑุทูุจุฉ ุนุงููุฉ โ ุงูุฌู ุฎุงูู
- **ุงูุฃููููุฉ:** ๐ฆ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - High: > 95%
  - Medium: > 90%

#### 1๏ธโฃ2๏ธโฃ ุชุญุฐูุฑ ุถุบุท ุฌูู ููุฎูุถ
- **ุงูุดุฑุท:** `pressure < 1000 hPa`
- **ุงูุฑุณุงูุฉ:** ๐ช ุถุบุท ููุฎูุถ โ ุชุบููุฑุงุช ุฌููุฉ ูุฑูุจุฉ
- **ุงูุฃููููุฉ:** ๐ช
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - High: < 980 hPa
  - Medium: < 990 hPa
  - Low: < 1000 hPa

---

### โ ุชุญุฐูุฑุงุช ุฐููุฉ ูุฑูุจุฉ

#### ุฎุทุฑ ุงูุฒูุงู ูุฑูุจ
- **ุงูุดุฑุท:** `rain > 3 mm && temp < 5ยฐC`
- **ุงูุฑุณุงูุฉ:** โ๏ธ ุงูุทุฑูู ุฒูู โ ุฎุทุฑ ุงูุฒูุงู
- **ุงูุฃููููุฉ:** โ๏ธ
- **ููุงุญุธุฉ:** ูุชู ุงุณุชุจุฏุงู ุชุญุฐูุฑ "ุทุฑู ุฒููุฉ" ุงูุจุณูุท ุจูุฐุง ุงูุชุญุฐูุฑ ุงููุฑูุจ ุฅุฐุง ุชููุฑุช ุงูุดุฑูุท

#### ููุงุฏุฉ ุฎุทุฑุฉ ูุฑูุจุฉ
- **ุงูุดุฑุท:** `visibility < 800 m || wind > 15 m/s`
- **ุงูุฑุณุงูุฉ:** 
  - โ๏ธ ุธุฑูู ููุงุฏุฉ ุฎุทุฑุฉ ุฌุฏุงู โ ุฑุคูุฉ ุถุนููุฉ ูุฑูุงุญ ูููุฉ (ุฅุฐุง ุชููุฑุช ุงูุดุฑูุท ูุนุงู)
  - โ๏ธ ุธุฑูู ููุงุฏุฉ ุฎุทุฑุฉ โ ุฑุคูุฉ ุถุนููุฉ (ุฅุฐุง ูุงูุช ุงูุฑุคูุฉ ููุท)
  - โ๏ธ ุธุฑูู ููุงุฏุฉ ุฎุทุฑุฉ โ ุฑูุงุญ ูููุฉ (ุฅุฐุง ูุงูุช ุงูุฑูุงุญ ููุท)
- **ุงูุฃููููุฉ:** โ๏ธ
- **ูุณุชููุงุช ุงูุฎุทูุฑุฉ:**
  - Critical: (visibility < 200 m) || (wind > 20 m/s)
  - High: (visibility < 500 m) || (wind > 17 m/s)
  - Medium: (visibility < 800 m) || (wind > 15 m/s)

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ:

1. **`lib/services/weather-alerts.ts`** (ุฌุฏูุฏ)
   - ูุฆุฉ `WeatherAlertsChecker` ุชุญุชูู ุนูู ุฌููุน ุฏูุงู ุงูุชุญูู ูู ุงูุชุญุฐูุฑุงุช
   - ุฏุงูุฉ `checkAllAlerts()` ููุญุต ุฌููุน ุงูุชุญุฐูุฑุงุช ููููู ุงููุงุญุฏ
   - ุชุฌูุจ ุงูุชูุฑุงุฑ ุจูู ุงูุชุญุฐูุฑุงุช ุงูุจุณูุทุฉ ูุงููุฑูุจุฉ

2. **`app/api/weather/safe-routes/route.ts`** (ูุญุฏุซ)
   - ุงุณุชุฎุฏุงู `WeatherAlertsChecker.checkAllAlerts()` ุจุฏูุงู ูู ุงูููุฏ ุงูููุฑุฑ
   - ุชุญููู ุจูุงูุงุช ุงูููู ุฅูู ุชูุณูู `WeatherDayData`
   - ุฅุถุงูุฉ `icon` ููู ุชุญุฐูุฑ ูู ุงูุงุณุชุฌุงุจุฉ

3. **`components/GoogleTrafficMap.tsx`** (ูุญุฏุซ)
   - ุฅุถุงูุฉ `unsafeRoutesMarkersRef` ูุฅุฏุงุฑุฉ markers ุงูุทุฑู ุบูุฑ ุงูุขููุฉ
   - `useEffect` ุฌุฏูุฏ ูุนุฑุถ markers ููุทุฑู ุบูุฑ ุงูุขููุฉ
   - InfoWindow ูุญุณูู ูุนุฑุถ ุฌููุน ุงูุชุญุฐูุฑุงุช ูุฌูุนุฉ ุญุณุจ ุงูุชุงุฑูุฎ
   - ุฃููุงู markers ุญุณุจ ุฃุนูู ูุณุชูู ุฎุทูุฑุฉ

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### Markers ุนูู ุงูุฎุฑูุทุฉ:
- **ุฃุญูุฑ (#DC2626):** Critical severity
- **ุฃุญูุฑ ูุงุชุญ (#EF4444):** High severity
- **ุจุฑุชูุงูู (#F59E0B):** Medium severity
- **ุฃุฎุถุฑ (#10B981):** Low severity (ูุงุฏุฑ)

### InfoWindow ููุทุฑู ุบูุฑ ุงูุขููุฉ:
- ุนููุงู ุงูุทุฑูู ูุนุฏุฏ ุงูุฃูุงู ุงูุฎุทุฑุฉ
- ูุงุฆูุฉ ุจุฌููุน ุงูุชุญุฐูุฑุงุช ูุฌูุนุฉ ุญุณุจ ุงูุชุงุฑูุฎ
- ูู ุชุญุฐูุฑ ูุนุฑุถ:
  - ุงูุฃููููุฉ ุงูููุงุณุจุฉ
  - ุงูุฑุณุงูุฉ ุจุงูุนุฑุจูุฉ
  - ุงููููุฉ (ุฅู ูุฌุฏุช)
  - ููู ุญุณุจ ูุณุชูู ุงูุฎุทูุฑุฉ

---

## ๐ ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ

### โ ุจูุงูุงุช ูุงูุนูุฉ ููุท:
- ุฌููุน ุงูุชุญุฐูุฑุงุช ุชุนุชูุฏ ุนูู ุจูุงูุงุช ูู OpenWeatherMap API
- ูุง ุชูุฌุฏ ุจูุงูุงุช ููููุฉ ุฃู ุชูุฏูุฑุงุช ุนุดูุงุฆูุฉ
- ุฅุฐุง ูู ุชูู ุงูุจูุงูุงุช ูุชููุฑุฉุ ูุง ูุชู ุฅุถุงูุฉ ุงูุชุญุฐูุฑ

### โ๏ธ ููุงุญุธุงุช ูููุฉ:
- **ุงูุฑุคูุฉ:** OpenWeatherMap Forecast API ูุง ูููุฑ ุจูุงูุงุช ุงูุฑุคูุฉ ุงูููููุฉุ ูุฐูู ูุชู ูุญุตูุง ููุท ุฅุฐุง ูุงูุช ูุชููุฑุฉ ูู ูุตุฏุฑ ุขุฎุฑ
- **ุงูุฑุทูุจุฉ ูุงูุถุบุท:** ูุง ูุชู ุชูููุฑููุง ูู Forecast APIุ ูุฐูู ูุชู ูุญุตููุง ููุท ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ูุชููุฑุฉ
- **ุงูุฑูุงุญ:** ูุชู ุชุญููููุง ุชููุงุฆูุงู ูู m/s ุฅูู km/h ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ูู API:
```typescript
import { WeatherAlertsChecker, WeatherDayData } from '@/lib/services/weather-alerts'

const dayData: WeatherDayData = {
  temperature: 25,
  temp_min: 20,
  temp_max: 30,
  humidity: 85,
  pressure: 1013,
  windSpeed: 15, // km/h
  visibility: 500, // meters
  precipitation: 8,
  condition: 'rain',
}

const alerts = WeatherAlertsChecker.checkAllAlerts(dayData)
// Returns: Array<WeatherAlert>
```

### ูู ุงููุงุฌูุฉ:
ุงูุชุญุฐูุฑุงุช ุชุธูุฑ ุชููุงุฆูุงู ุนูุฏ:
- ุนุฑุถ ุงูุทุฑู ุบูุฑ ุงูุขููุฉ ุนูู ุงูุฎุฑูุทุฉ
- ุงูููุฑ ุนูู marker ููุทุฑูู ุบูุฑ ุงูุขูู
- ุนุฑุถ InfoWindow ูุน ุฌููุน ุงูุชุญุฐูุฑุงุช ูุฌูุนุฉ ุญุณุจ ุงูุชุงุฑูุฎ

---

## โ ุงูุงุฎุชุจุงุฑ

ููุชุญูู ูู ุนูู ุงููุธุงู:

1. ุงูุชุญ `/map`
2. ุงูุชุธุฑ ุชุญููู ุจูุงูุงุช ุงูุทูุณ
3. ุงููุฑ ุนูู ุฃู marker ุฃุญูุฑ/ุจุฑุชูุงูู (ุทุฑู ุบูุฑ ุขููุฉ)
4. ุชุญูู ูู ุนุฑุถ ุฌููุน ุงูุชุญุฐูุฑุงุช ูุน ุงูุฃููููุงุช ูุงูุฃููุงู ุงูุตุญูุญุฉ

---

## ๐ ููุงุญุธุงุช ุงูุชุทููุฑ

- ุฌููุน ุงูุชุญุฐูุฑุงุช ุชุณุชุฎุฏู ุจูุงูุงุช ูุงูุนูุฉ ููุท
- ุงููุธุงู ูุงุจู ููุชูุณุน ุจุณูููุฉ - ููุท ุฃุถู ุฏุงูุฉ ุฌุฏูุฏุฉ ูู `WeatherAlertsChecker`
- ุงูุชุญุฐูุฑุงุช ุงููุฑูุจุฉ ุชุญู ูุญู ุงูุชุญุฐูุฑุงุช ุงูุจุณูุทุฉ ูุชุฌูุจ ุงูุชูุฑุงุฑ
- ุงูุฃููุงู ูุงูุฃููููุงุช ูุชุณูุฉ ุนุจุฑ ุงููุธุงู

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** $(Get-Date -Format "yyyy-MM-dd HH:mm")
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู

